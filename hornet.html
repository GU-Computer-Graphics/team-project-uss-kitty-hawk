<!DOCTYPE html>
<html>

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>Quiz 5</title>

    <style>
        /* feel free to change the canvas style. If you want to use the entire
      window, set width: 100% and height: 100% */
        canvas {
            display: block;
            margin: 10px auto;
            width: 700px;
            height: 500px;
        }

        h1 {
            text-align: center;
        }
    </style>

    <script src="./js/three.js"> </script>
    <script src="./js/SceneUtils.js"></script>
    <script src="./js/OrbitControls.js"></script>
    <script src="./js/dat.gui.js"></script>
    <script src="./js/tw-sp21.js"></script>


    <script>
        //0. create any global variables used in your scene               

        var state = {};
        var ah = new THREE.AxesHelper(50);

        var cameraParams = {
            near: 1,
            far: 250,
            fov: 75,                // degrees
            aspectRatio: 700 / 500,   // from dimensions of the canvas, see CSS
            atX: 0,
            atY: 0,
            atZ: 0,
            eyeX: -1,
            eyeY: 80,
            eyeZ: 0,
            upX: 0,
            upY: 1,
            upZ: 0
        };

        

        var jetMeshMaterials = [
            new THREE.MeshPhongMaterial({
                color: new THREE.Color("black"),
                specular: new THREE.Color("blue"),
                shininess: 1,
                flatShading: THREE.FlatShading,
                side: THREE.DoubleSide
            }),
            new THREE.MeshPhongMaterial({
                color: new THREE.Color("red"),
                specular: new THREE.Color("white"),
                shininess: 5,
                flatShading: THREE.FlatShading,
                side: THREE.DoubleSide
            }),
            new THREE.MeshPhongMaterial({
                color: new THREE.Color(0x80807), //dark greyish
                specular: new THREE.Color("white"),
                shininess: 2,
                flatShading: THREE.FlatShading,
                side: THREE.DoubleSide
            }),
            new THREE.MeshPhongMaterial({
                color: new THREE.Color(0x76552b), //dirt brown
                specular: new THREE.Color("white"),
                shininess: 10,
                flatShading: THREE.FlatShading,
                side: THREE.DoubleSide
            }),
            new THREE.MeshBasicMaterial({
                color: 0x202020, //greyish
                side: THREE.DoubleSide,
            }),
            new THREE.MeshBasicMaterial({
                color: new THREE.Color(0xeedd82), //offwhite/yellowish
            }),

        ]

        var wingSize = {
            h: 32,
            w: 3,
            l: 45,
        }

        var finSize = {
            h: 22,
            w: 2,
            l: 30,
        }

        var bodySize = {
            h: 3.5,
            w: 80,
            l: 20,
            d: 4
        }

        var jet = new THREE.Object3D();
        jet.name = "jetObject";

        // setupCamera() function creates and returns a camera with the desired parameters
        function setupCamera(cameraParameters) {
            // set up an abbreviation 
            var cp = cameraParameters;
            // create an initial camera with the desired shape
            var camera = new THREE.PerspectiveCamera(cp.fov, cp.aspectRatio, cp.near, cp.far);
            // set the camera location and orientation
            camera.position.set(cp.eyeX, cp.eyeY, cp.eyeZ);
            camera.up.set(cp.upX, cp.upY, cp.upZ);
            camera.lookAt(new THREE.Vector3(cp.atX, cp.atY, cp.atZ));
            return camera;
        }

        function createWingL() {
            //HINT: (x, z) is your plane, y is your height
            //1. Create your geometry object
            var wingGeom = new THREE.Geometry();
            //vertices
            wingGeom.vertices.push(new THREE.Vector3(0, +wingSize.w / 2, -wingSize.l / 2)); //0x
            wingGeom.vertices.push(new THREE.Vector3(0, -wingSize.w / 2, -wingSize.l / 2)); //1x
            wingGeom.vertices.push(new THREE.Vector3(wingSize.h, -wingSize.w / 2, -wingSize.l / 2)); //2x
            wingGeom.vertices.push(new THREE.Vector3(0, -wingSize.w / 2, wingSize.l / 2)); //4x        
            wingGeom.vertices.push(new THREE.Vector3(0, +wingSize.w / 2, +wingSize.l / 2)); //5x  
            wingGeom.vertices.push(new THREE.Vector3(wingSize.h / 3 * 1.2, -wingSize.w / 2, wingSize.l / 2)); //6x       

            //faces
            wingGeom.faces.push(new THREE.Face3(0, 4, 1)); //bottom 1
            wingGeom.faces.push(new THREE.Face3(1, 4, 3)); //bottom 2
            wingGeom.faces.push(new THREE.Face3(0, 1, 2)); //back 1
            wingGeom.faces.push(new THREE.Face3(1, 3, 2)); //right 1
            wingGeom.faces.push(new THREE.Face3(5, 3, 2)); //right 2
            wingGeom.faces.push(new THREE.Face3(3, 5, 4)); //top 1
            wingGeom.faces.push(new THREE.Face3(0, 2, 5)); //left 1
            wingGeom.faces.push(new THREE.Face3(0, 4, 5)); //left 2

            //2.5 Calculate normal vectors as necessary
            wingGeom.computeFaceNormals();

            return wingGeom;
        }

        function createWingR() {
            //HINT: (x, z) is your plane, y is your height
            //1. Create your geometry object
            var wingGeom = new THREE.Geometry();
            //vertices
            
            wingGeom.vertices.push(new THREE.Vector3(0, +wingSize.w / 2, wingSize.l / 2)); //0x
            wingGeom.vertices.push(new THREE.Vector3(0, -wingSize.w / 2, wingSize.l / 2)); //1x
            wingGeom.vertices.push(new THREE.Vector3(wingSize.h, -wingSize.w / 2, wingSize.l / 2)); //2x
            wingGeom.vertices.push(new THREE.Vector3(0, -wingSize.w / 2, -wingSize.l / 2)); //4x        
            wingGeom.vertices.push(new THREE.Vector3(0, +wingSize.w / 2, -wingSize.l / 2)); //5x  
            wingGeom.vertices.push(new THREE.Vector3(wingSize.h / 3 * 1.2, -wingSize.w / 2, -wingSize.l / 2)); //6x

            //faces
            wingGeom.faces.push(new THREE.Face3(0, 4, 1)); //bottom 1
            wingGeom.faces.push(new THREE.Face3(1, 4, 3)); //bottom 2
            wingGeom.faces.push(new THREE.Face3(0, 1, 2)); //back 1
            wingGeom.faces.push(new THREE.Face3(1, 3, 2)); //right 1
            wingGeom.faces.push(new THREE.Face3(5, 3, 2)); //right 2
            wingGeom.faces.push(new THREE.Face3(3, 5, 4)); //top 1
            wingGeom.faces.push(new THREE.Face3(0, 2, 5)); //left 1
            wingGeom.faces.push(new THREE.Face3(0, 4, 5)); //left 2

            //2.5 Calculate normal vectors as necessary
            wingGeom.computeFaceNormals();

            return wingGeom;
        }

        function createtailfin() {
            //HINT: (x, z) is your plane, y is your height
            //1. Create your geometry object
            var finGeom = new THREE.Geometry();
            //vertices
            
            finGeom.vertices.push(new THREE.Vector3(0, +finSize.w / 2, finSize.l / 2)); //0x
            finGeom.vertices.push(new THREE.Vector3(0, -finSize.w / 2, finSize.l / 2)); //1x
            finGeom.vertices.push(new THREE.Vector3(finSize.h, 0, finSize.l / 2)); //2x
            finGeom.vertices.push(new THREE.Vector3(0, -finSize.w / 2, -finSize.l / 2)); //4x        
            finGeom.vertices.push(new THREE.Vector3(0, +finSize.w / 2, -finSize.l / 2)); //5x  
            finGeom.vertices.push(new THREE.Vector3(finSize.h / 3 * 1.2, 0, -finSize.l / 2)); //6x

            //faces
            finGeom.faces.push(new THREE.Face3(0, 4, 1)); //bottom 1
            finGeom.faces.push(new THREE.Face3(1, 4, 3)); //bottom 2
            finGeom.faces.push(new THREE.Face3(0, 1, 2)); //back 1
            finGeom.faces.push(new THREE.Face3(1, 3, 2)); //right 1
            finGeom.faces.push(new THREE.Face3(5, 3, 2)); //right 2
            finGeom.faces.push(new THREE.Face3(3, 5, 4)); //top 1
            finGeom.faces.push(new THREE.Face3(0, 2, 5)); //left 1
            finGeom.faces.push(new THREE.Face3(0, 4, 5)); //left 2

            //2.5 Calculate normal vectors as necessary
            finGeom.computeFaceNormals();

            return finGeom;
        }

        function createMainBody() {
            //HINT: (x, z) is your plane, y is your height
            //1. Create your geometry object
            var bodyGeom = new THREE.Geometry();
            //vertices on base
            bodyGeom.vertices.push(new THREE.Vector3(-bodySize.w / 5, 0, -bodySize.l / 1.2)); //0x
            bodyGeom.vertices.push(new THREE.Vector3(bodySize.w / 5, 0, -bodySize.l)); //1x
            bodyGeom.vertices.push(new THREE.Vector3(bodySize.w / 3.5, 0, -bodySize.l / 1.1)); //2x
            bodyGeom.vertices.push(new THREE.Vector3(bodySize.w / 2.3, 0, -bodySize.l / 1.9)); //3x
            bodyGeom.vertices.push(new THREE.Vector3(bodySize.w / 2, 0, -bodySize.l / 4)); //4x
            bodyGeom.vertices.push(new THREE.Vector3(bodySize.w / 2, 0, bodySize.l / 4)); //5x
            bodyGeom.vertices.push(new THREE.Vector3(bodySize.w / 2.3, 0, bodySize.l / 1.9)); //6x
            bodyGeom.vertices.push(new THREE.Vector3(bodySize.w / 3.5, 0, bodySize.l / 1.1)); //7x
            bodyGeom.vertices.push(new THREE.Vector3(bodySize.w / 5, 0, bodySize.l)); //8x
            bodyGeom.vertices.push(new THREE.Vector3(-bodySize.w / 5, 0, bodySize.l / 1.2)); //9x
            bodyGeom.vertices.push(new THREE.Vector3(-bodySize.w / 5, 0, bodySize.l / 4)); //10x
            bodyGeom.vertices.push(new THREE.Vector3(-bodySize.w / 2, 0, bodySize.l / 4)); //11x
            bodyGeom.vertices.push(new THREE.Vector3(-bodySize.w / 2, 0, -bodySize.l / 4)); //12x
            bodyGeom.vertices.push(new THREE.Vector3(-bodySize.w / 5, 0, -bodySize.l / 4)); //13x
            
            //vertices on top
            bodyGeom.vertices.push(new THREE.Vector3(-bodySize.w / 5, bodySize.h, -bodySize.l / 1.2 + bodySize.d)); //14x
            bodyGeom.vertices.push(new THREE.Vector3(bodySize.w / 5 - bodySize.d, bodySize.h, -bodySize.l + bodySize.d)); //15x
            bodyGeom.vertices.push(new THREE.Vector3(bodySize.w / 3.5 - bodySize.d, bodySize.h, -bodySize.l / 1.1 + bodySize.d)); //16x
            bodyGeom.vertices.push(new THREE.Vector3(bodySize.w / 2.3 - bodySize.d, bodySize.h, -bodySize.l / 1.9 + bodySize.d)); //17x
            bodyGeom.vertices.push(new THREE.Vector3(bodySize.w / 2 - bodySize.d, bodySize.h, -bodySize.l / 4 + bodySize.d)); //18x
            bodyGeom.vertices.push(new THREE.Vector3(bodySize.w / 2 - bodySize.d, bodySize.h, bodySize.l / 4 - bodySize.d)); //19x
            bodyGeom.vertices.push(new THREE.Vector3(bodySize.w / 2.3 - bodySize.d, bodySize.h, bodySize.l / 1.9 - bodySize.d)); //20x
            bodyGeom.vertices.push(new THREE.Vector3(bodySize.w / 3.5 - bodySize.d, bodySize.h, bodySize.l / 1.1 - bodySize.d)); //21x
            bodyGeom.vertices.push(new THREE.Vector3(bodySize.w / 5 - bodySize.d, bodySize.h, bodySize.l - bodySize.d)); //22x
            bodyGeom.vertices.push(new THREE.Vector3(-bodySize.w / 5, bodySize.h, bodySize.l / 1.2 - bodySize.d)); //23x
            bodyGeom.vertices.push(new THREE.Vector3(-bodySize.w / 5, bodySize.h, bodySize.l / 4)); //24x
            bodyGeom.vertices.push(new THREE.Vector3(-bodySize.w / 2, bodySize.h, bodySize.l / 4)); //25x
            bodyGeom.vertices.push(new THREE.Vector3(-bodySize.w / 2, bodySize.h, -bodySize.l / 4)); //26x
            bodyGeom.vertices.push(new THREE.Vector3(-bodySize.w / 5, bodySize.h, -bodySize.l / 4)); //27x

            //faces
            bodyGeom.faces.push(new THREE.Face3(4, 5, 3));
            bodyGeom.faces.push(new THREE.Face3(3, 5, 6));
            bodyGeom.faces.push(new THREE.Face3(3, 6, 2));
            bodyGeom.faces.push(new THREE.Face3(2, 6, 7));
            bodyGeom.faces.push(new THREE.Face3(2, 7, 1));
            bodyGeom.faces.push(new THREE.Face3(7, 1, 8));
            bodyGeom.faces.push(new THREE.Face3(1, 8, 0));
            bodyGeom.faces.push(new THREE.Face3(0, 8, 9));
            bodyGeom.faces.push(new THREE.Face3(13, 10, 12));
            bodyGeom.faces.push(new THREE.Face3(10, 12, 11));
            bodyGeom.faces.push(new THREE.Face3(18, 19, 17));
            bodyGeom.faces.push(new THREE.Face3(17, 19, 20));
            bodyGeom.faces.push(new THREE.Face3(16, 17, 20));
            bodyGeom.faces.push(new THREE.Face3(16, 20, 21));
            bodyGeom.faces.push(new THREE.Face3(15, 16, 21));
            bodyGeom.faces.push(new THREE.Face3(15, 21, 22));
            bodyGeom.faces.push(new THREE.Face3(14, 15, 22));
            bodyGeom.faces.push(new THREE.Face3(14, 22, 23));
            bodyGeom.faces.push(new THREE.Face3(24, 25, 26));
            bodyGeom.faces.push(new THREE.Face3(24, 26, 27));
            bodyGeom.faces.push(new THREE.Face3(0, 14, 27));
            bodyGeom.faces.push(new THREE.Face3(0, 27, 13));
            bodyGeom.faces.push(new THREE.Face3(27, 13, 26));
            bodyGeom.faces.push(new THREE.Face3(13, 26, 12));
            bodyGeom.faces.push(new THREE.Face3(26, 12, 25));
            bodyGeom.faces.push(new THREE.Face3(12, 25, 11));
            bodyGeom.faces.push(new THREE.Face3(11, 25, 24));
            bodyGeom.faces.push(new THREE.Face3(11, 24, 10));
            bodyGeom.faces.push(new THREE.Face3(10, 24, 23));
            bodyGeom.faces.push(new THREE.Face3(10, 23, 9));
            bodyGeom.faces.push(new THREE.Face3(9, 23, 22));
            bodyGeom.faces.push(new THREE.Face3(9, 22, 8));
            bodyGeom.faces.push(new THREE.Face3(8, 22, 21));
            bodyGeom.faces.push(new THREE.Face3(8, 21, 7));
            bodyGeom.faces.push(new THREE.Face3(7, 21, 20));
            bodyGeom.faces.push(new THREE.Face3(7, 20, 6));
            bodyGeom.faces.push(new THREE.Face3(6, 20, 19));
            bodyGeom.faces.push(new THREE.Face3(6, 19, 5));
            bodyGeom.faces.push(new THREE.Face3(5, 19, 18));
            bodyGeom.faces.push(new THREE.Face3(5, 18, 4));
            bodyGeom.faces.push(new THREE.Face3(4, 18, 17));
            bodyGeom.faces.push(new THREE.Face3(4, 17, 3));
            bodyGeom.faces.push(new THREE.Face3(3, 17, 16));
            bodyGeom.faces.push(new THREE.Face3(3, 16, 2));
            bodyGeom.faces.push(new THREE.Face3(2, 16, 15));
            bodyGeom.faces.push(new THREE.Face3(2, 15, 1));
            bodyGeom.faces.push(new THREE.Face3(1, 15, 14));
            bodyGeom.faces.push(new THREE.Face3(1, 14, 0));

            //2.5 Calculate normal vectors as necessary
            bodyGeom.computeFaceNormals();

            return bodyGeom;
        }



        function createJet() {
            //2. Create your geometry objects
            var wingLGeom = createWingL(); //wing body 

            //3. Create a mesh for your geometry objects   
            let wingLMesh = TW.createMesh(wingLGeom, jetMeshMaterials[1]);
            jet.add(wingLMesh);
            wingLMesh.position.set(-16,1,36)

            var wingRGeom = createWingR(); //wing body 

            //3. Create a mesh for your geometry objects   
            let wingRMesh = TW.createMesh(wingRGeom, jetMeshMaterials[1]);

            jet.add(wingRMesh);
            wingRMesh.position.set(-16,1,-35)

            var bodyGeom = createMainBody(); //wing body 

            //3. Create a mesh for your geometry objects   
            let bodyMesh = TW.createMesh(bodyGeom, jetMeshMaterials[1]);

            jet.add(bodyMesh)
            //4. Add the objects to the scene        
            scene.add(jet);
        }

        function redoCamera() {
            scene.remove(camera);
            camera = setupCamera(cameraParams);
            scene.add(camera)
            render();
        }

        function render() {
            // a render function; assume global variables scene, renderer, and camera
            renderer.render(scene, camera);
        }

        function setupCameraControls() {
            var cameraControls = new THREE.OrbitControls(camera, canvas);
            state.cameraControls = cameraControls;
            cameraControls.addEventListener('change', render);
            cameraControls.update();
        }
    </script>

</head>

<body>

    <h1>More Wedgejet™</h1>

    <script>
        //1.  Create an initial empty Scene
        var scene = new THREE.Scene();

        //2. Create jet using global object variable
        createJet();

        //5. Create a renderer to render the scene
        var renderer = new THREE.WebGLRenderer();

        //6. REPLACING TW.mainInit(), we don't need it anymore! 
        // adds the canvas to the document,
        // enables display of 3D coordinate axes, sets up camera controls
        // TW.mainInit(renderer, scene); //Not needed with the following changes
        var canvas = renderer.domElement;
        //note state has been created as a global so we can modify it later if we desire
        state.renderer = renderer;  // save this so that others can use it.
        state.scene = scene;        // save this so that others can use it.
        var parent = document.body;
        parent.appendChild(canvas);
        renderer.setSize(canvas.clientWidth, canvas.clientHeight);
        renderer.setClearColor(new THREE.Color(0x2f2f2f), 1); //darker greyish... it's evening!

        //7. Set up a camera for the scene
        var camera = setupCamera(cameraParams);
        scene.add(camera);

        //set up camera controls so we can use mouse to pan around scene
        setupCameraControls();

        var ambLight = new THREE.AmbientLight(new THREE.Color("white"), .5);
        scene.add(ambLight);

        scene.add(ah);

        render();

    </script>


</body>

</html>